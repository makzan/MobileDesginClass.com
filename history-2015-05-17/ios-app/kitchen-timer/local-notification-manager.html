<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>LocalNotificationManager | Modile Design Class</title>
  <link rel="stylesheet" href="/css/prism.css">
  <link rel="stylesheet" href="/css/reader.css">

  <!-- Typekit -->
  <script src="//use.typekit.net/lyx0zwz.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>
</head>
<body>
  <main id="main">

    <article>
      <root><h1>LocalNotificationManager</h1><p>Header:</p><pre><code class="language-objectivec"><p>@interface LocalNotificationManager : NSObject</p><p>+ (LocalNotificationManager*)sharedManager;</p><p>- (BOOL)hasNotifications;<br />- (void)registerNotification;<br />- (void)removeAllNotifications;<br />- (void)scheduleNotificationWithInterval: (int)seconds;</p><p>@end</p></code></pre><p>Implementation:</p><pre><code class="language-objectivec"><p>#import “LocalNotificationManager.h”</p><p>static NSString *EXTRA_CATEGORY = @“EXTRA_CATEGORY”;</p><p>@implementation LocalNotificationManager</p><p>// Singleton<br />// Note: this may not be the best singleton pattern implementation.<br />static LocalNotificationManager *instance;</p><p>+ (LocalNotificationManager*)sharedManager {<br />    if (instance == nil) {<br />        instance = [[LocalNotificationManager alloc] init];<br />    }<br />    return instance;<br />}</p><p>- (BOOL)hasNotifications {<br />    return [[UIApplication sharedApplication] scheduledLocalNotifications].count &gt; 0;<br />}</p><p>- (void)registerNotification {<br />    // type<br />    UIUserNotificationType type = UIUserNotificationTypeAlert | UIUserNotificationTypeSound | UIUserNotificationTypeBadge;</p><p>// actions<br />    UIMutableUserNotificationAction *action = [[UIMutableUserNotificationAction alloc] init];<br />    action.identifier = @“EXTRA”;<br />    action.title = @“+30s”;<br />    action.activationMode = UIUserNotificationActivationModeBackground;<br />    action.destructive = NO;<br />    action.authenticationRequired = NO;</p><p>// action category<br />    UIMutableUserNotificationCategory *category = [[UIMutableUserNotificationCategory alloc] init];<br />    category.identifier = EXTRA_CATEGORY;<br />    [category setActions:@[action] forContext:UIUserNotificationActionContextDefault];<br />    [category setActions:@[action] forContext:UIUserNotificationActionContextMinimal];</p><p>// packing into setting<br />    UIUserNotificationSettings *settings =<br />    [UIUserNotificationSettings settingsForTypes:type<br />                                      categories:[NSSet setWithArray:@[category]]];</p><p>// really register the notification<br />    [[UIApplication sharedApplication] registerUserNotificationSettings:settings];<br />}</p><p>- (void)removeAllNotifications {<br />    [[UIApplication sharedApplication] cancelAllLocalNotifications];<br />}</p><p>- (void)scheduleNotificationWithInterval: (int)seconds {</p><p>UILocalNotification *notification = [[UILocalNotification alloc] init];<br />    notification.fireDate = [NSDate dateWithTimeIntervalSinceNow: seconds];<br />    notification.timeZone = [NSTimeZone defaultTimeZone];<br />    notification.alertBody = @“Time’s up!“;<br />    notification.alertAction = @“Dismiss”;<br />    notification.soundName = @“alert.aif”;<br />    notification.applicationIconBadgeNumber = 0; // set this if you need the number on icon in home screen.<br />    notification.userInfo = @{}; // set this if you need any extra data.<br />    notification.category = EXTRA_CATEGORY;</p><p>NSLog(@“Scheduling category: %@“, notification.category);</p><p>[[UIApplication sharedApplication] scheduleLocalNotification:notification];</p><p>}</p><p>@end</p></code></pre></root>
    </article>

    <nav>

      <a id="prev" href="/ios-app/kitchen-timer/auto-layout.html">← Step 2—Adding Auto Layout</a>
<a id="top" href="/">Home</a>

      <a id="chapter" href="/ios-app/index.html">Section 1—iOS App Development</a>

      <a id="next" href="/ios-app/kitchen-timer/nsnumber-category.html">NSTimer+MZTimer →</a>
    </nav>


    <a href="/ios-app/kitchen-timer/auto-layout.html" title="← Step 2—Adding Auto Layout" class="overlay prev"></a>

    <a href="/ios-app/kitchen-timer/nsnumber-category.html" title="NSTimer+MZTimer →" class="overlay next"></a>


  </main>


  <small>by Makzan.</small>

  <div id='overlay' class='out'>
    <img id='overlay-img' src=''>
    <div id='overlay-caption'></div>
  </div>

  <!-- © 2015 Thomas Seng Hin Mak. -->

  <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
  <script src="/js/smoothstate.js"></script>
  <script src="/js/website.js"></script>

</body>
</html>